---
phase: 01-foundation-design-system
plan: 02
type: execute
wave: 2
depends_on:
  - 01-01
files_modified:
  - lib/schemas/content.ts
  - lib/data/services.ts
  - lib/data/tech-stack.ts
  - lib/data/process.ts
  - app/page.tsx
autonomous: true
requirements:
  - LAYOUT-01

must_haves:
  truths:
    - "Zod schemas validate services, tech stack, and process step data at build time"
    - "TypeScript types are inferred from Zod schemas (no separate type definitions)"
    - "Content data files contain real website copy matching PROJECT.md descriptions"
    - "app/page.tsx imports and renders data from all three content modules"
    - "npm run build succeeds with content data wired into the page"
  artifacts:
    - path: "lib/schemas/content.ts"
      provides: "Zod schemas for Service, TechStackItem, ProcessStep"
      exports: ["serviceSchema", "techStackItemSchema", "processStepSchema", "Service", "TechStackItem", "ProcessStep"]
    - path: "lib/data/services.ts"
      provides: "5 service offerings with validated data"
      exports: ["services"]
    - path: "lib/data/tech-stack.ts"
      provides: "Tech stack items organized by category"
      exports: ["techStack"]
    - path: "lib/data/process.ts"
      provides: "4 process steps with validated data"
      exports: ["processSteps"]
    - path: "app/page.tsx"
      provides: "Single-page layout importing all content data"
      exports: ["default"]
  key_links:
    - from: "lib/data/services.ts"
      to: "lib/schemas/content.ts"
      via: "Schema import for type and validation"
      pattern: "import.*serviceSchema.*from.*schemas/content"
    - from: "lib/data/tech-stack.ts"
      to: "lib/schemas/content.ts"
      via: "Schema import for type and validation"
      pattern: "import.*techStackItemSchema.*from.*schemas/content"
    - from: "lib/data/process.ts"
      to: "lib/schemas/content.ts"
      via: "Schema import for type and validation"
      pattern: "import.*processStepSchema.*from.*schemas/content"
    - from: "app/page.tsx"
      to: "lib/data/*"
      via: "Data imports for page rendering"
      pattern: "import.*from.*@/lib/data"
---

<objective>
Create typed content schemas with Zod and populate data files for services, tech stack, and process steps. Wire content into the single-page layout to prove the full data-to-page pipeline works.

Purpose: All content sections in Phase 3 will consume these schemas and data files. Defining them now ensures the data layer is solid before building UI. The page assembly proves LAYOUT-01 (single-page layout with all sections in sequence).
Output: Validated content data files, Zod schemas with inferred TypeScript types, and a working single-page layout rendering all content.
</objective>

<execution_context>
@/Users/zachsaid/.claude/get-shit-done/workflows/execute-plan.md
@/Users/zachsaid/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-design-system/01-CONTEXT.md
@.planning/phases/01-foundation-design-system/01-RESEARCH.md
@.planning/phases/01-foundation-design-system/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Zod content schemas and populate data files</name>
  <files>
    lib/schemas/content.ts
    lib/data/services.ts
    lib/data/tech-stack.ts
    lib/data/process.ts
  </files>
  <action>
    1. Create `lib/schemas/content.ts` with Zod schemas:

       **Service schema** — for the 5 service offerings:
       ```typescript
       export const serviceSchema = z.object({
         id: z.string().min(1),
         title: z.string().min(1),
         description: z.string().min(10),
       })
       ```
       Keep it lean — `id`, `title`, `description`. No `technologies` array or `featured` flag (not in the design). The website copy from PROJECT.md mentions 5 services; the schema should match what the UI needs, nothing more.

       **TechStackItem schema** — for the tech stack display:
       ```typescript
       export const techStackItemSchema = z.object({
         id: z.string().min(1),
         name: z.string().min(1),
         category: z.enum(['frontend', 'backend', 'infrastructure', 'automation']),
       })
       ```
       Categories should match how Zach's tech stack is organized (frontend/backend/infrastructure/automation). The display will be a text row or grouped list, not cards (per no-surface-separation decision).

       **ProcessStep schema** — for the 4 "How I Work" steps:
       ```typescript
       export const processStepSchema = z.object({
         id: z.string().min(1),
         step: z.number().int().min(1).max(4),
         title: z.string().min(1),
         description: z.string().min(10),
       })
       ```

       Export inferred types from each schema:
       ```typescript
       export type Service = z.infer<typeof serviceSchema>
       export type TechStackItem = z.infer<typeof techStackItemSchema>
       export type ProcessStep = z.infer<typeof processStepSchema>
       ```

    2. Create `lib/data/services.ts` with 5 services:
       - Use real copy from the project context. The services are: (1) Custom Internal Applications, (2) AI Agent Systems, (3) Workflow Automation, (4) System Architecture & Design, (5) Technical Advisory.
       - Each entry: id (kebab-case), title, and a 1-2 sentence description of the service.
       - Import and type-check against `serviceSchema`.
       - Add build-time validation: parse each entry with `serviceSchema.parse()` at module level (will throw if data is invalid, caught during build).

    3. Create `lib/data/tech-stack.ts` with tech stack items:
       - Categories: frontend (Next.js, React, TypeScript, Tailwind CSS), backend (Node.js, Python, PostgreSQL, Supabase), infrastructure (Docker, AWS, Vercel, GitHub Actions), automation (n8n, Zapier, OpenAI API, LangChain).
       - Each entry: id (kebab-case), name (display name), category.
       - Import and validate against `techStackItemSchema`.

    4. Create `lib/data/process.ts` with 4 process steps:
       - Steps: (1) Discovery — understand the problem, (2) Design — plan the solution, (3) Build — iterative development, (4) Support — ongoing maintenance.
       - Each entry: id, step number, title, 1-2 sentence description.
       - Import and validate against `processStepSchema`.

    **Validation pattern for all data files:**
    ```typescript
    import { z } from 'zod'
    import { serviceSchema, type Service } from '@/lib/schemas/content'

    const servicesData = [ /* ... */ ] as const satisfies readonly Service[]

    // Validate at module load — throws during build if invalid
    export const services = servicesData.map(s => serviceSchema.parse(s))
    ```
    This ensures data matches the schema AND the TypeScript type — double safety.
  </action>
  <verify>
    Run TypeScript compilation check:
    ```bash
    npx tsc --noEmit
    ```
    Must pass with no errors — proves types match schemas.

    Run a quick import test:
    ```bash
    npx tsx -e "
      import { services } from './lib/data/services';
      import { techStack } from './lib/data/tech-stack';
      import { processSteps } from './lib/data/process';
      console.log('Services:', services.length, '(expect 5)');
      console.log('Tech stack:', techStack.length, '(expect 12+)');
      console.log('Process steps:', processSteps.length, '(expect 4)');
    "
    ```
    Must output correct counts without errors (Zod validation runs at import time).
  </verify>
  <done>
    Three content data modules exist with Zod-validated data: 5 services, 12+ tech stack items, 4 process steps. TypeScript types inferred from schemas. Build-time validation catches any schema mismatches.
  </done>
</task>

<task type="auto">
  <name>Task 2: Wire content into single-page layout and verify build</name>
  <files>
    app/page.tsx
  </files>
  <action>
    1. Update `app/page.tsx` to import all content data and render it in the single-page layout. This is a structural proof — final visual design comes in Phase 3. The page should demonstrate:
       - All sections present in sequence (matching LAYOUT-01: "Site renders as a single-page layout with all sections in sequence")
       - Content data properly imported and iterated
       - Design system tokens applied (dark background, typography scale, spacing, prose width)
       - Section labels using the `.section-label` class from globals.css

    2. Structure the page with these sections (using the design system from Plan 01):

       ```tsx
       import { services } from '@/lib/data/services'
       import { techStack } from '@/lib/data/tech-stack'
       import { processSteps } from '@/lib/data/process'

       export default function Home() {
         return (
           <main className="min-h-screen">
             {/* Hero */}
             <section className="section-padding">
               <div className="prose-width">
                 <p className="section-label mb-8">Mira Consultancy</p>
                 <h1 className="mb-6">Technology that moves your business forward.</h1>
                 <p className="text-lg text-text-secondary max-w-[38rem]">
                   Custom applications, AI agents, and workflow automation — built with precision for businesses that need to move fast.
                 </p>
               </div>
             </section>

             {/* Services */}
             <section className="section-padding">
               <div className="prose-width">
                 <p className="section-label mb-4">What I Do</p>
                 <h2 className="mb-12">Services</h2>
                 <div className="space-y-10">
                   {services.map((service) => (
                     <div key={service.id}>
                       <h3 className="text-xl mb-2">{service.title}</h3>
                       <p>{service.description}</p>
                     </div>
                   ))}
                 </div>
               </div>
             </section>

             {/* Process */}
             <section className="section-padding">
               <div className="prose-width">
                 <p className="section-label mb-4">How I Work</p>
                 <h2 className="mb-12">Process</h2>
                 <div className="space-y-8">
                   {processSteps.map((step) => (
                     <div key={step.id}>
                       <p className="section-label mb-2">{String(step.step).padStart(2, '0')}</p>
                       <h3 className="text-xl mb-2">{step.title}</h3>
                       <p>{step.description}</p>
                     </div>
                   ))}
                 </div>
               </div>
             </section>

             {/* Tech Stack */}
             <section className="section-padding">
               <div className="prose-width">
                 <p className="section-label mb-4">Tech Stack</p>
                 <h2 className="mb-12">Tools I Use</h2>
                 <div className="space-y-6">
                   {(['frontend', 'backend', 'infrastructure', 'automation'] as const).map((category) => (
                     <div key={category}>
                       <p className="section-label mb-2">{category}</p>
                       <p className="text-text-primary">
                         {techStack
                           .filter((t) => t.category === category)
                           .map((t) => t.name)
                           .join(' · ')}
                       </p>
                     </div>
                   ))}
                 </div>
               </div>
             </section>

             {/* Contact */}
             <section className="section-padding">
               <div className="prose-width">
                 <p className="section-label mb-4">Get in Touch</p>
                 <h2 className="mb-6">Let&apos;s talk.</h2>
                 <p className="mb-8">
                   Ready to discuss your project? Book a discovery call or drop me an email.
                 </p>
                 <a
                   href="https://calendly.com/placeholder"
                   className="inline-block text-accent underline underline-offset-4"
                 >
                   Book a call →
                 </a>
               </div>
             </section>
           </main>
         )
       }
       ```

       This is a **scaffolded layout** — it proves the data pipeline works and demonstrates the single-page flow. Phase 3 replaces each section block with proper section components (Hero, Services, Process, etc.).

    3. Verify the page builds and renders:
       - `npm run build` must succeed
       - `npm run dev` must show all sections in sequence
       - All content data must appear on the page (5 services, 4 process steps, tech stack by category)
  </action>
  <verify>
    1. `npm run build` succeeds — `out/index.html` exists.
    2. `npm run dev` — page shows all sections in sequence:
       - Hero section with headline
       - Services section listing 5 items
       - Process section listing 4 numbered steps
       - Tech Stack section grouped by category
       - Contact section with Calendly link
    3. `npx tsc --noEmit` passes — no TypeScript errors.
    4. Check static output contains content:
       ```bash
       grep -c "Custom Internal Applications" out/index.html
       grep -c "Discovery" out/index.html
       grep -c "calendly" out/index.html
       ```
       All must return 1+.
  </verify>
  <done>
    Single-page layout renders all content sections in sequence (Hero → Services → Process → Tech Stack → Contact). Content data is imported from typed data modules. Static build succeeds with all content present in HTML output. LAYOUT-01 is satisfied.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `npx tsc --noEmit` passes — all types correct
2. `npm run build` succeeds — `out/index.html` exists with all content
3. Zod schemas validate all content at module load time
4. All 5 services, 4 process steps, and tech stack items render on page
5. Single-page layout shows sections in correct sequence
6. Calendly placeholder link present in contact section
</verification>

<success_criteria>
- Content schemas exist in lib/schemas/content.ts with inferred TypeScript types
- 5 services, 12+ tech stack items, and 4 process steps defined and validated
- app/page.tsx renders all content in a single-page layout
- Static build succeeds with content in HTML output
- LAYOUT-01 satisfied: site renders as single-page layout with all sections in sequence
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-design-system/01-02-SUMMARY.md`
</output>
